<form name="requisitionTemplateHeaderForm" class="requisition-template-header-form" spellcheck="false" manage-form-state>
  <div class="collapse-toggle" ng-init="identificationCollapsed = false">
    <a title="{{ 'collapseExpandThisSection' | translate }}" ng-href="#" onclick="return false;" ng-click="identificationCollapsed = !identificationCollapsed">
      <i class="fa fa-chevron-down" ng-show="!identificationCollapsed"></i>
      <i class="fa fa-chevron-right" ng-show="identificationCollapsed"></i>
    </a>
    <label>{{ 'identification' | translate }}</label>
  </div>
  <div uib-collapse="identificationCollapsed" class="clearfix">
    <div class="form-group">
      <label for="templateDescription" class="control-label">{{ 'description' | translate }}</label>
      <input type="text" class="form-control" id="templateDescription"
        ng-model="$ctrl.model.name"
        ng-model-options="{ updateOn: 'blur' }"
        ng-change="$ctrl.onRequisitionTemplateDescriptionChange()"
        ng-disabled="$ctrl.stateModel.name.disabled"
        ng-required="$ctrl.stateModel.name.required"
        ng-maxlength="40"
      />
    </div>
    <div class="form-group">
      <label for="site" class="control-label">{{ 'site' | translate }}</label>
      <site-list
        input-id="'site'"
        ng-model="$ctrl.model.site"
        ng-change="$ctrl.onSelectSite()"
        ng-disabled="$ctrl.stateModel.site.disabled"
        ng-required="$ctrl.stateModel.site.required">
      </site-list>
    </div>
    <div class="form-group">
      <label for="administrativeUnit" class="control-label">{{ 'administrativeUnit' | translate }}</label>
      <department-list
        input-id="'administrativeUnit'"
        user-profile-id="$ctrl.userProfileId"
        ng-model="$ctrl.model.department"
        ng-change="$ctrl.onSelectDepartment()"
        site="$ctrl.model.site"
        ng-disabled="$ctrl.stateModel.department.disabled"
        ng-required="$ctrl.stateModel.department.required"
        is-replenishment=false
        is-active=true
        include-external-sales="$ctrl.isIncludeExternalSales()">
      </department-list>
    </div>
    <div class="form-group">
      <label for="address" class="control-label">{{ 'address' | translate }}</label>
      <address-list
        input-id="'address'"
        ng-model="$ctrl.model.address"
        ng-change="$ctrl.onSelectAddress()"
        site="$ctrl.model.site"
        department="$ctrl.model.department"
        ng-disabled="$ctrl.stateModel.address.disabled"
        ng-required="$ctrl.stateModel.address.required">
      </address-list>
    </div>
    <div class="form-group">
      <label for="deliveryLocation" class="control-label">{{ 'shippingLocation' | translate }}</label>
      <delivery-location-list
        input-id="'deliveryLocation'"
        ng-model="$ctrl.model.deliveryLocation"
        ng-change="$ctrl.onSelectDeliveryLocation()"
        department="$ctrl.model.department"
        ng-disabled="$ctrl.stateModel.deliveryLocation.disabled"
        ng-required="$ctrl.stateModel.deliveryLocation.required">
      </delivery-location-list>
    </div>
    <div class="form-group width-70">
      <label for="requester" class="control-label">{{ 'requester' | translate }}</label>
      <requester-list
        input-id="'requester'"
        ng-model="$ctrl.model.requester"
        ng-change="$ctrl.onSelectRequester()"
        department="$ctrl.model.department"
        user-profile-id="$ctrl.userProfileId"
        ng-disabled="$ctrl.stateModel.requester.disabled"
        ng-required="$ctrl.stateModel.requester.required">
      </requester-list>
    </div>
    <!-- client -->
    <div class="form-group">
      <label for="client" class="control-label">{{ 'client' | translate }}</label>
      <client-list
        input-id="client"
        ng-model="$ctrl.model.client"
        ng-change="$ctrl.onSelectClient()"
        ng-disabled="$ctrl.stateModel.client.disabled"
        ng-required="$ctrl.stateModel.client.required"
        establishment-id="$ctrl.model.department.establishmentId"
        is-active=true>
      </client-list>
    </div>
  </div>
  <div class="collapse-toggle" ng-init="aboutCollapsed = false">
    <a title="{{ 'collapseExpandThisSection' | translate }}" ng-href="#" onclick="return false;" ng-click="aboutCollapsed = !aboutCollapsed"><i class="fa fa-chevron-down" ng-show="!aboutCollapsed"></i><i class="fa fa-chevron-right" ng-show="aboutCollapsed"></i></a>
    <label>{{ 'about' | translate }}</label>
  </div>
  <div uib-collapse="aboutCollapsed">
    <div class="form-group">
      <md-checkbox
          md-no-ink
          id="isRequisitionTemplateActive"
          ng-model="$ctrl.model.active"
          aria-label=" "
          ng-change="$ctrl.onChangeActiveState()"
          ng-disabled="$ctrl.stateModel.active.disabled"
          >

        {{ 'active' | translate }}

      </md-checkbox>
    </div>
    <div class="form-group">
      <md-checkbox
          md-no-ink
          id="isAutomaticGeneration"
          ng-model="$ctrl.model.isAutomaticGeneration"
          aria-label=" "
          ng-change="$ctrl.onChangeIsAutomaticGeneration()"
          ng-disabled="$ctrl.stateModel.isAutomaticGeneration.disabled"
          >
        {{ 'requisitionTemplateAutoGeneration' | translate }}
      </md-checkbox>
    </div>
  </div>
  <div class="collapse-toggle" ng-init="stampingCollapsed = false">
    <a title="{{ 'collapseExpandThisSection' | translate }}" ng-href="#" onclick="return false;" ng-click="stampingCollapsed = !stampingCollapsed"><i class="fa fa-chevron-down" ng-show="!stampingCollapsed"></i><i class="fa fa-chevron-right" ng-show="stampingCollapsed"></i></a>
    <label>{{ 'stamping' | translate }}</label>
  </div>
  <div uib-collapse="stampingCollapsed">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <label for="updatedOn" class="control-label text-nowrap">{{ 'updatedOn' | translate }}</label>
          <br />
          <span id="updatedOn">{{ $ctrl.model.modifiedOn | date:'short'}}</span>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group">
          <label for="updatedBy" class="control-label text-nowrap">{{ 'updatedBy' | translate }}</label>
          <br />
          <span id="updatedBy">{{ $ctrl.model.modifiedByDesc }}</span>
        </div>
      </div>
    </div>
  </div>

</form>
